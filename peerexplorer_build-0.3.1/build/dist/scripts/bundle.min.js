angular.module("peers",["restangular","datatables","datatables.bootstrap","ui.bootstrap","ui.router","nvd3","ngSanitize","cc.autorefresh","ng-countryflags"]),angular.module("peers").constant("peerConfig",{apiUrl:"http://185.103.75.217:8888/",peerEndPoint:"api/nodes"}),angular.module("peers").constant("PEER_CONSTANTS",{REFRESH_INTERVAL_MILLI_SECONDS:6e4,VERSION:"0.3.1"}),angular.module("peers").config(["RestangularProvider","peerConfig","$stateProvider","$urlRouterProvider",function(e,t,a,n){e.setBaseUrl(t.apiUrl),a.state("peerExplorer.peers",{url:"^/peers",templateUrl:"./peers/peers.html",controller:"PeersCtrl"})}]),angular.module("peers").filter("searchTerm",["$sce",function(e){return function(e){return e?'<a href="" ng-controller="SearchCtrl" ng-click="search(\''+e+"')\">"+e+"</a>":""}}]),angular.module("peers").directive("compile",["$compile",function(e){return function(t,a,n){t.$watch(function(e){return e.$eval(n.compile)},function(n){a.html(n),e(a.contents())(t)})}}]),angular.module("peers").service("PeerService",["Restangular","peerConfig","$q",function(e,t,a){this.getPeers=function(a,n){var l={page:a,results:n,filter:"numberOfActivePeers",order:"desc"};return e.all(t.peerEndPoint).customGET("",l)},this.getStats=function(){return e.all("api").one("getStats").customGET("","")}}]),angular.module("peers").controller("PeersCtrl",["$scope","PeerService","DTOptionsBuilder","DTColumnBuilder","$interval","$uibModal","$compile",function(e,t,a,n,l,r,o){function s(e,t){return e===!0?'<small> <span tooltip-placement="top" uib-tooltip="'+t+'" class="glyphicon glyphicon-ok" style="color:black"></span></small>':'<small> <span tooltip-placement="top" uib-tooltip="'+t+'" class="glyphicon glyphicon-remove" style="color:black"></span></small>'}e.chartOptions={chart:{type:"discreteBarChart",height:20,margin:{top:0,right:0,bottom:0,left:0},x:function(e){return e.label},y:function(e){return e.value},showValues:!1,duration:500,xAxis:{axisLabel:"",axisLabelDistance:0,ticks:0},yAxis:{axisLabel:"",axisLabelDistance:0,ticks:0},color:function(){return"#9e9e9e"}}},e.dtOptions=a.newOptions().withPaginationType("full_numbers").withDOM("frtip").withDataProp("data").withOption("responsive",!0).withOption("paging",!0).withOption("ordering",!1).withOption("info",!1).withOption("serverSide",!1).withDataProp("peers").withOption("processing",!0).withOption("bFilter",!1).withOption("fnRowCallback",function(t,a,n,l){o(t)(e)}).withOption("ajax",function(e,a,n){var l=e.start/e.length+1;t.getPeers(l,e.length).then(function(e){var t={peers:e};a({iTotalRecords:1e3,iTotalDisplayRecords:1e3,peers:t.peers})})}).withDisplayLength(10).withBootstrap().withOption("rank",[1,"desc"]).withOption("rowReordering",!0),e.dtColumns=[n.newColumn("rank").withTitle("Rank").notSortable().renderWith(function(e,t,a,n){return e.toFixed(2)}),n.newColumn("_id").withTitle("IP").notSortable().renderWith(function(e,t,a,n){return'<a type="button" class="btn btn-infinity btn-xs" style="width:75%;" ng-controller="SearchCtrl" ng-click="searchIP(\''+a._id+"' )\"></strong>"+e+"</strong></a>"}),n.newColumn("numberOfActivePeers").withTitle("Peers").notSortable(),n.newColumn("SystemLoadAverage").withTitle("CPU").notSortable().renderWith(function(e,t,a,n){var l=parseInt(a.availableProcessors),r=parseFloat(a.SystemLoadAverage),o=100*r/(100*l)*100;return o.toFixed(2)+" %"}),n.newColumn("history_SystemLoadAverage").withTitle("CPU Load History").notSortable().renderWith(function(e,t,a,n){for(var l=[],r=0;r<e.length-30;r++){var o=parseFloat(e[r]),s=100*o/100*100;l.push({label:r,value:s})}var i=[{values:[]}];return i[0].values=l,'<nvd3 options="chartOptions" data='+JSON.stringify(i)+"></nvd3>"}),n.newColumn("lastBlockchainFeeder").withTitle("Last Feeder").notSortable().renderWith(function(e,t,a,n){return'<a class="pointer" ng-controller="SearchCtrl" ng-click="searchIP(\''+e+"' )\">"+e+"</a>"}),n.newColumn("numberOfBlocks").withTitle("Height").notSortable(),n.newColumn("version").withTitle("Version").notSortable(),n.newColumn("superNodeEnable").withTitle("Services").notSortable().renderWith(function(e,t,a,n){return s(a.superNodeEnable,"SuperNode Services Enabled")}),n.newColumn("enableHallmarkProtection").withTitle("Marked").notSortable().renderWith(function(e,t,a,n){return s(a.enableHallmarkProtection,"Hallmark Protected")}),n.newColumn("apiServerEnable").withTitle("API").notSortable().renderWith(function(e,t,a,n){return s(a.apiServerEnable,"API Enabled")}),n.newColumn("geoip").withTitle("Country").notSortable().renderWith(function(e,t,a,n){var l=e.country_name;return'<countryflag country="'+e.country_code+'" isSquare="false" uib-tooltip="'+l+'"></countryflag>'})],e.dtInstanceCallback=function(t){e.dtInstance=t},e.reloadPeers=function(){e.dtInstance&&e.dtInstance._renderer.rerender()}}]),angular.module("peers").controller("StatsCtrl",["$scope","PeerService","DTOptionsBuilder","DTColumnBuilder","$interval","$uibModal","$compile",function(e,t,a,n,l,r,o){e.getStats=function(){t.getStats().then(function(t){console.log(t),e.stats=t},function(e){})}}]),angular.module("search",["restangular","datatables","datatables.bootstrap","ui.bootstrap","ui.router","nvd3","ngSanitize"]),angular.module("search").constant("searchConfig",{searchEndPoint:"api/nodes"}),angular.module("search").config(["RestangularProvider","searchConfig","$stateProvider","$urlRouterProvider","peerConfig",function(e,t,a,n,l){e.setBaseUrl(l.apiUrl),a.state("peerExplorer.search",{url:"^/search",templateUrl:"./search/search.html",controller:"SearchCtrl"})}]),angular.module("search").filter("html",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),angular.module("search").service("SearchService",["Restangular","searchConfig",function(e,t){this.searchIp=function(a){var n={ip:a};return e.all(t.searchEndPoint).customGET("",n)}}]),angular.module("search").controller("SearchCtrl",["$scope","SearchService","DTOptionsBuilder","DTColumnBuilder","$interval","$uibModal","$compile","searchConfig","peerConfig",function(e,t,a,n,l,r,o,s,i){function p(e){return!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)}var c=function(e){r.open({animation:!0,templateUrl:"search/search-error.html",size:"sm",controller:"ErrorSearchCtrl",resolve:{params:function(){return{message:e}}}})};e.search=function(a){a=a||e.searchTerm,a&&(p(a)?t.searchIp(a).then(function(e){e._id?r.open({animation:!0,templateUrl:"search/search-peer.html",size:"lg",controller:"SearchIpCtrl",windowClass:"block-modal-window",resolve:{params:function(){return{node:e}}}}):c(a+" ip doesn't exists ")}):c("Please enter valid ip address"))},e.searchIP=function(e){e&&(p(e)?t.searchIp(e).then(function(t){t._id?r.open({animation:!0,templateUrl:"search/search-peer.html",size:"lg",controller:"SearchIpCtrl",windowClass:"block-modal-window",resolve:{params:function(){return{node:t}}}}):c(e+" ip doesn't exists ")}):c("Please enter valid ip address"))}}]),angular.module("search").controller("SearchIpCtrl",["$scope","DTOptionsBuilder","DTColumnBuilder","$compile","$uibModalInstance","$q","params",function(e,t,a,n,l,r,o){function s(e){for(var t={key:"SystemLoad",values:[]},a=0;a<e.length;a++)t.values.push({label:a,value:e[a]});return[t]}function i(e){for(var t={key:"SystemLoad",values:[]},a=0;a<e.length;a++){var n=parseFloat(e[a]),l=100*n/100*100;t.values.push({label:a,value:l})}return[t]}e.chartOptions={chart:{type:"discreteBarChart",height:100,margin:{top:0,right:0,bottom:0,left:0},x:function(e){return e.label},y:function(e){return e.value},showValues:!1,valueFormat:function(e){return d3.format(",.2f")(e)},duration:500,xAxis:{axisLabel:"",ticks:8},yAxis:{axisLabel:"",axisLabelDistance:0,ticks:8},color:function(){return"#9e9e9e"}}},e.cancel=function(){l.dismiss("cancel")},e.showResult=function(){e.node=o.node,e.chartOptions=e.chartOptions,e.chartData1=i(o.node.history_SystemLoadAverage),e.chartData2=s(o.node.history_freeMemory),e.chartData3=s(o.node.history_requestProcessingTime),e.chartData4=s(o.node.history_numberOfActivePeers)}}]),angular.module("search").controller("ErrorSearchCtrl",["$scope","$uibModalInstance","$q","params",function(e,t,a,n){e.cancel=function(){t.dismiss("cancel")},e.showResult=function(){e.message=n.message}}]),angular.module("peerExplorer",["peers","search","ui.router"]),angular.module("peerExplorer").config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("peerExplorer",{abstract:!0,url:"/",template:"<div ui-view></div>"}),t.otherwise("/peers")}]),angular.module("peerExplorer").filter("isEnabled",["$sce",function(e){return function(e){switch(e){case!0:return'<small> <span class="glyphicon glyphicon-ok" style="color:black"></span> </small>';case!1:return'<small> <span class="glyphicon glyphicon-remove" style="color:black"></span> </small>';default:return'<small> <span class="glyphicon glyphicon-remove" style="color:black"></span> </small>'}}}]),angular.module("peerExplorer").run(["$rootScope","PEER_CONSTANTS",function(e,t){e.options=t}]),angular.module("peerExplorer").filter("gateways",["$sce",function(e){return function(e,t){switch(e){case"TenderMint":return t?'<span tooltip-placement="top" uib-tooltip="'+e+'">   <span class="label label-default" >TM</span>  </span>':'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >TM</span>   </span>';case"ZeroNet":return t?'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >ZN</span>  </span>':'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >ZN</span>  </span>';case"IPFS":return t?'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-warning" >IPFS</span>  </span>':'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >IPFS</span>  </span>';default:return'<small> <span class="glyphicon glyphicon-remove" style="color:red"></span> </small>'}}}]),angular.module("peerExplorer").filter("proxies",["$sce",function(e){return function(e,t){switch(e){case"BTC":return t?'<span tooltip-placement="top" uib-tooltip="'+e+'">   <span class="label label-warning" >BTC</span>  </span>':'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >BTC</span>   </span>';case"ETH":return t?'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >ETH</span>  </span>':'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >ETH</span>  </span>';case"LTC":return t?'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >LTC</span>  </span>':'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >LTC</span>  </span>';case"XRP":return t?'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >XRP</span>  </span>':'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >XRP</span>  </span>';case"MKT":return t?'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >MKT</span>  </span>':'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >MKT</span>  </span>';default:return'<small> <span class="glyphicon glyphicon-remove" style="color:red"></span> </small>'}}}]),angular.module("peerExplorer").filter("storage",["$sce",function(e){return function(e,t){switch(e){case"PostgreSQL":return t?'<span tooltip-placement="top" uib-tooltip="'+e+'">   <span class="label label-default" >PS</span>  </span>':'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >PS</span>   </span>';case"RethinkDB":return t?'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >RT</span>  </span>':'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >RT</span>  </span>';case"MySQL":return t?'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >MY</span>  </span>':'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >MY</span>  </span>';case"Mongodb":return t?'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-warning" >MO</span>  </span>':'<span tooltip-placement="top" uib-tooltip="'+e+'">  <span class="label label-default" >MO</span>  </span>';default:return'<small> <span class="glyphicon glyphicon-remove" style="color:red"></span> </small>'}}}]),angular.module("peerExplorer").filter("numericalString",["$sce",function(e){return function(e){return e||(e=0),e.toLocaleString("en-US",{minimumFractionDigits:2})}}]),angular.module("peerExplorer").controller("FooterController",["PeerService","$scope","$rootScope","peerConfig",function(e,t,a,n){t.init=function(){e.getPeers(1,2).then(function(e){t.topNode=e[0]||{}}),t.connectedURL=n.apiUrl}}]);
//# sourceMappingURL=bundle.min.js.map
